<template>
    <lightning-card>
        <div class="slds-grid slds-grid_align-spread slds-p-around_medium  chart-container1">
            <h1 class="slds-text-heading_large slds-align_absolute-center"> <strong>Timesheet Entries </strong> </h1>
        </div>
        <div class="slds-grid slds-grid_align-end slds-m-bottom_medium slds-m-right_x-large">
            <lightning-input 
                type="toggle" 
                label="(Check Final Settlement)" 
                checked={isToggleOn} 
                onchange={handleToggleChange}>
            </lightning-input>
         <lightning-input type="file" label="Upload CSV" accept=".csv" onchange={handleFileChange}></lightning-input>
            <!-- <lightning-button label="Generate Invoice" variant="success" onclick={handleGeneratePDF}></lightning-button> -->
        </div>

        <!-- CSV Upload -->
        <!-- <lightning-input type="file" label="Upload CSV" accept=".csv" onchange={handleFileChange}></lightning-input> -->

        <!-- Timesheet Table -->
        <!-- <lightning-datatable
            key-field="Id"
            data={pagedData}
            columns={columns}
            onrowaction={handleRowAction}
            onsort={handleSort}
            sorted-by={sortBy}
            sorted-direction={sortDirection}
            onsave={handleRowSelection}>
        </lightning-datatable> -->

        <div class="chart-container2" >
            <lightning-datatable
                key-field="Id"
                data={pagedData}
                columns={columns}
                draft-values={draftValues}
                onsave={handleSave}
                onrowaction={handleRowAction}
                onsort={handleSort}
                sorted-by={sortBy}
                sorted-direction={sortDirection}>
            </lightning-datatable>
        </div>   


        <!-- Modal for file upload -->
    <template if:true={showModel}>
    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
        <div class="slds-modal__container">
            <header class="slds-modal__header">

                
    <!-- <lightning-card title="Upload Timesheet File">
        <div class="slds-p-around_medium">
            <lightning-input type="file" label="Select File" onchange={handleFileChange}></lightning-input>
            <lightning-button label="Upload and Create Record" onclick={handleUpload} class="slds-m-top_medium"></lightning-button>
        </div>
    </lightning-card> -->



                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={hideModalBox}>
                    <lightning-icon icon-name="utility:close" size="small"></lightning-icon>
                    <span class="slds-assistive-text">Close</span>
                </button>
                <h2 class="slds-text-heading_medium">File Upload</h2>
            </header>
            <div class="slds-modal__content slds-p-around_medium">
        
                <div class="slds-text-heading_medium slds-grid slds-gutters">
                    <!-- <p class="slds-col">EntryId:- <strong>{selectedRecordId}</strong></p> -->
                    <p class="slds-col">Project:- <strong>{selectedProjectName}</strong></p>
                    <p class="slds-col slds-m-left_small">Resource:- <strong>{selectedResourceName}</strong></p>
                </div>

                <div class="slds-m-top_xx-large slds-align_absolute-center">
                    <!-- <lightning-input type="file" label="Upload OCR File" onchange={handleFileUpload} accept=".pdf"></lightning-input> -->
                    <lightning-input type="file" label="Select File" onchange={handleFileChange}></lightning-input>

                </div>
            </div>
            <footer class="slds-modal__footer">
                <!-- <lightning-button variant="brand" label="Submit" onclick={hideModalBox}></lightning-button> -->
                <lightning-button variant="brand" label="Upload" onclick={handleUpload} class="slds-m-top_medium"></lightning-button>

            </footer>
        </div>
    </section>
    <div class="slds-backdrop slds-backdrop_open"></div>
</template>

    </lightning-card>
</template>